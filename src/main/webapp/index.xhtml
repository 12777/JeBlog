<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:jeblog="http://rmannibucau.github.com/jeblog"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<f:metadata>
  <f:viewParam name="tag" value="#{index.tag}" />
</f:metadata>

<ui:composition template="/WEB-INF/template/layout.xhtml">
  <ui:define name="content">
    <div>
      <h1>Foo stuff!</h1>
      <p class="lead">Welcome message.</p>
    </div>
    <hr />

    <div id="posts">
      <ui:repeat value="#{index.posts}" var="it">
        <jeblog:post post="#{it}" />
      </ui:repeat>

      <h:form id="post-navigation">
        <div class="btn-toolbar">
          <div class="btn-group">
            <h:commandLink styleClass="btn" actionListener="#{index.beginning}" update="posts">
              <i class="icon-step-backward" />
            </h:commandLink>
            <h:commandLink styleClass="btn" actionListener="#{index.previousPage}" rendered="#{index.hasPrevious}" update="posts">
              <i class="icon-backward" />
            </h:commandLink>
            <h:outputText styleClass="btn" value="#{index.current}" />
            <h:commandLink styleClass="btn" actionListener="#{index.nextPage}" rendered="#{index.hasNext}" update="posts">
              <i class="icon-forward" />
            </h:commandLink>
            <h:commandLink styleClass="btn" actionListener="#{index.end}" update="posts">
              <i class="icon-step-forward" />
            </h:commandLink>
          </div>
        </div>
      </h:form>
    </div>
  </ui:define>
</ui:composition>
</html>
